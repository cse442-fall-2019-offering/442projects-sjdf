<!DOCTYPE HTML>
<!--
	Read Only by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
	Version 1: Header Last Updated 9/12
-->
<html>
	<head>
		<title>Hermes</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header"></section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
						<!-- One -->
							<section id="one">
								<div class="container">
									<header class="major">
										<h2>Select Your Flight</h2>
										<p text-align="center">The following flights are available based on your critera</p>
									</header>
								</div>
							</section>

						<div id="main">
							<div id = "mapDiv"></div>
							<section id="FlightSections">
								<div class="container">
									<h1>List of Flights</h1>
									<div id="switchButton" style ="height:25px"></div>
									<div class="features" id="listOfFlights"></div>
									<div id="listButtons" style="height:25px"></div>
								</div>
							</section>
						</div>
                    </div>

				<!-- Footer -->
					<section id="footer">
						<div class="container">
							<ul class="copyright">
								<li>&copy; SJDF 2019</li><li>CSE 442: Software Engineering</a></li>
							</ul>
						</div>
					</section>

			</div>


		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script>
				var init = function() {
				    //loads header as staticVars
					 $("#header").load("staticVars.html", function(){
							var navbar = document.getElementById("nav").childNodes[1].children;
							$.get(menubar.html);
		 					var v = navbar[0].firstChild;
							v.className = "active";
					 });
				}
				$(document).ready(init);
			</script>
			<script>
				var json;
				var FlightList;
                //get values from server as a json
                var request = new XMLHttpRequest();
                request.onreadystatechange = function(){
					if (this.readyState === 4 && this.status === 200){
						json = this.response;
						FlightList = JSON.parse(json);
						var listLocation = document.getElementById("listOfFlights");
				var setCounter = 0;
				spawnList(setCounter);
				// json = "\{\"hotelList\": \[\{\"hotelName\": \"Brews and Stews\",\"price\": \"$300\",\"address\": \"Diagon Alley\",\"amenities\": \"?\"\},\{\"hotelName\": \"Railview Hotel\",\"price\": \"$200\",\"address\": \"Cokeworth, England\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Brews and Stews\",\"price\": \"$300\",\"address\": \"Diagon Alley\",\"amenities\": \"?\"\},\{\"hotelName\": \"Railview Hotel\",\"price\": \"$200\",\"address\": \"Cokeworth, England\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\}\]\}";
				//generate the lists in increments of 1
				var switchButton = document.createElement("button");
					switchButton.innerHTML = "Reverse order of Price";
					switchButton.style = "width:30%height:100%;";
					switchButton.onclick = switchButtonisClicked;
					switchButton.className = "button primary fit";
					var container = document.getElementById("switchButton");
					container.appendChild(switchButton);
				if(FlightList.length>10){
					var nextButton = document.createElement("button");
					nextButton.innerHTML = "next";
					nextButton.onclick = nextButtonIsClicked;
					nextButton.className = "button primary fit";
					nextButton.style = "width:20%;height:100%;";
					var container = document.getElementById("listButtons");
					container.appendChild(nextButton);
				}
				function spawnList(start){
					for(var i = start;i<(start+10);i++){
						if(i>(FlightList.length-1)){
							break;
						}

						//when clicking on the option it causes the user to go to the next html
						var article = document.createElement("article");
						var linkToTourism = document.createElement("a");
						linkToTourism.href = "hotels.html";
						article.appendChild(linkToTourism);

						var divInner = document.createElement("div");
						divInner.class = "inner";
						divInner.style = "width:20%";
						linkToTourism.appendChild(divInner);
						var divGridContainer = document.createElement("div");
						divGridContainer.class = "grid-item";
						divGridContainer.style = "display: grid;grid-template-columns: 50% 50%;";
						divInner.appendChild(divGridContainer);

						var hotelName = document.createElement("h2");
						hotelName.innerHTML = FlightList[i]["Place"];
						divGridContainer.appendChild(hotelName);

						var price = document.createElement("h3");
						price.innerHTML = "Price: " + FlightList[i]["Price"];
						price.align = "right";
						divGridContainer.appendChild(price);

						var address = document.createElement("h3");


						var directFlight = "Yes";
						if(FlightList[i]["DirectFlight"] == "True")
							directFlight = "No";

						address.innerHTML = "Direct Flight? " + directFlight;
						divGridContainer.appendChild(address);

						var depDate = document.createElement("h3");
						depDate.innerHTML = "Departure Date: " + FlightList[i]["DepartureDate"];
						depDate.align = "right";
						divGridContainer.appendChild(depDate);

						listLocation.appendChild(article);
					}
				}


				//creates next, and previous buttons
				function setButtons(){
					clearDiv("listButtons");
					var nextButton = document.createElement("button");
					nextButton.innerHTML = "next";
					nextButton.onclick = nextButtonIsClicked;
					nextButton.style = "width:20%;height:100%;";
					nextButton.className = "button primary fit";
					var previousButton = document.createElement("button");
					previousButton.innerHTML = "previous";
					previousButton.onclick = previousButtonIsClicked;
					previousButton.style = "width:20%;height:100%;";
					previousButton.className = "button primary fit";
					var container = document.getElementById("listButtons");
					if(setCounter==0){
						container.appendChild(nextButton);
					}else if((setCounter+10)>=FlightList.length){
						container.appendChild(previousButton);
					}else{
						container.appendChild(previousButton);
						container.appendChild(nextButton);
					}
				}

				function switchButtonisClicked(){
					clearDiv("listOfFlights");
					var newList = [];
					var temp = 0;
					for (var i = FlightList.length - 1; i >= 0; i--){
						newList.push(FlightList[i]);
						temp++;
					}
					FlightList = newList;
					setCounter = 0;
					spawnList(setCounter);

				}
                //functions that modifed the page after each button is clicked
				function nextButtonIsClicked() {
					clearDiv("listOfFlights");
					setCounter = setCounter+10;
					spawnList(setCounter);
					setButtons();
				}
				function previousButtonIsClicked() {
					clearDiv("listOfFlights");
					setCounter = setCounter-10;
					spawnList(setCounter);
					setButtons();
				}
				function clearDiv(id){
					var target = document.getElementById(id);
					while (target.firstChild) {
    				target.firstChild.remove();
					}
				}
					}
				};
				//gets values from server
				//request.open("GET", '/get-flights/');
    			//request.send();
                // var json = "\{\"hotelList\": \[\{\"hotelName\": \"Brews and Stews\",\"price\": \"$300\",\"address\": \"Diagon Alley\",\"amenities\": \"?\"\},\{\"hotelName\": \"Railview Hotel\",\"price\": \"$200\",\"address\": \"Cokeworth, England\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Brews and Stews\",\"price\": \"$300\",\"address\": \"Diagon Alley\",\"amenities\": \"?\"\},\{\"hotelName\": \"Railview Hotel\",\"price\": \"$200\",\"address\": \"Cokeworth, England\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\},\{\"hotelName\": \"Swanson Hotel\",\"price\": \"$100\",\"address\": \"Times Square, New York\",\"amenities\": \"?\"\}\]\}";


			</script>

	</body>
</html>
